<div class="user-sign-wrapper">
  <!-- ================= LOGIN SECTION ================= -->
  <div *ngIf="hide" class="login-wrapper">
    <div class="login-container login-section" id="login-section">
      <!-- Left Form -->
      <div class="login-form-wrapper">
        <h2>Welcome Back to Tiffino</h2>
        <p>Login with your email</p>

        <!-- Reactive login form with OTP -->
        <form
          [formGroup]="loginForm"
          (ngSubmit)="otpSent ? verifyOtp() : sendOtp()"
        >
          <div class="form-group">
            <label>Email</label>
            <input
              type="email"
              formControlName="email"
              placeholder="Enter your email"
              required
            />
            <div
              *ngIf="
                loginForm.get('email')?.invalid &&
                loginForm.get('email')?.touched
              "
            >
              Email is required and must be valid.
            </div>
          </div>

          <div class="form-group" *ngIf="otpSent">
            <label>Enter OTP</label>
            <input
              type="text"
              formControlName="otp"
              placeholder="Enter OTP"
              required
            />
            <div
              *ngIf="
                loginForm.get('otp')?.invalid && loginForm.get('otp')?.touched
              "
            >
              OTP is required.
            </div>
          </div>

          <div class="button-group">
            <button type="submit" class="btn btn-login">
              {{ otpSent ? "Verify OTP" : "Send OTP" }}
            </button>
          </div>

          <div class="signup-link-wrapper">
            <p>
              Don’t have an account? <a href="#registration-section">Sign Up</a>
            </p>
          </div>
        </form>
      </div>

      <!-- Right Side Panel -->
      <div class="side-panel">
        <h1>Let’s Get Started !</h1>
      </div>
    </div>
  </div>

  <hr />

  <!-- ================= REGISTRATION SECTION ================= -->
  <div class="registration-wrapper">
    <div class="login-container registration-section" id="registration-section">
      <!-- Left Side Background Panel -->
      <div class="side-panel">
        <h1>
          Good food is just a few<br />
          clicks away !!
        </h1>
      </div>

      <!-- Right Form with Reactive Form -->
      <div class="login-form-wrapper">
        <div class="form-header">
          <h2>Welcome to Tiffino</h2>
        </div>

        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label>Name</label>
            <input type="text" formControlName="name" required />
            <div
              *ngIf="
                signupForm.get('name')?.touched &&
                signupForm.get('name')?.invalid
              "
            >
              <small
                class="text-danger"
                *ngIf="signupForm.get('name')?.errors?.['required']"
              >
                Name is required
              </small>
            </div>
          </div>

          <div class="form-group">
            <label>Email</label>
            <input type="email" formControlName="email" required />
            <div
              *ngIf="
                signupForm.get('email')?.touched &&
                signupForm.get('email')?.invalid
              "
            >
              <small
                class="text-danger"
                *ngIf="signupForm.get('email')?.errors?.['required']"
              >
                Email is required
              </small>
              <small
                class="text-danger"
                *ngIf="signupForm.get('email')?.errors?.['email']"
              >
                Enter a valid email address
              </small>
            </div>
          </div>

          <div class="form-group">
            <label>Date of Birth</label>
            <input
              type="text"
              formControlName="dateOfBirth"
              placeholder="DD/MM/YYYY"
              required
            />
            <div
              *ngIf="
                signupForm.get('dateOfBirth')?.touched &&
                signupForm.get('dateOfBirth')?.invalid
              "
            >
              <small
                class="text-danger"
                *ngIf="signupForm.get('dateOfBirth')?.errors?.['required']"
              >
                DOB is required
              </small>
            </div>
          </div>

          <div class="form-group">
            <label>Phone No.</label>
            <input type="tel" formControlName="phone" required />
            <div
              *ngIf="
                signupForm.get('phone')?.touched &&
                signupForm.get('phone')?.invalid
              "
            >
              <small
                class="text-danger"
                *ngIf="signupForm.get('phone')?.errors?.['required']"
              >
                Phone No is required
              </small>
            </div>
          </div>

          <!-- Buttons -->
          <div class="button-group">
            <button type="submit" class="btn">Sign Up</button>
            <button type="button" class="btn btn-outline">Send OTP</button>
          </div>

          <div class="signup-link-wrapper">
            Already have an account? <a href="#login-section">Login</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
